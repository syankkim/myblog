---
title: ⏸ 인터럽트
tags: []
categories: [☁️ OS]
thumbnail: ''
permalink: ''
date: 2021-05-07 01:21:24
---

인터럽트는 무엇이고 어떻게 처리될까?
`#interrupt` `#IDT`
<!-- excerpt -->
<!-- toc -->

---

## 인터럽트란?
- CPU 에서 프로그램 실행중에 입출력 이벤트나 프로그래밍 오류 등, 예기지 못한 상황이 발생했을 경우 CPU 에게 실행중인 작업을 중단시키고 그 상황을 먼저 처리하도록 하는 기술이다.


## 내부/외부 인터럽트
* 내부 인터럽트 : 프로그램 내부에서 발생. (=소프트웨어 인터럽트)
 - 프로그램 내부에서 잘못된 데이터 사용이나, 명령어 실행오류
 - 권한을 위배한 엑세스 (사용자 모드에서 운영체제의 명령이나 공간에 접근)
 - Divide by zero, Overflow/Underflow
* 외부 인터럽트 : 프로그램 외부에서 발생. (=하드웨어 인터럽트)
 - 기기문제나 전원이상
 - 입출력 인터럽트
 - 타이머 인터럽트

### 타이머 인터럽트


### 입출력 인터럽트
- 프린터, 키보드, 마우스, 저장매체(SSD) 등
- 

## 인터럽트 예시 (divide by zero)
* zero.c
```c
include <studio.h>

int main(){
  printf("hello");
  int data;
  int divider =0;
  data = 1 /divider; // 0 으로 나눌 수 없음.
  return 0;
}
```
* cmd
```sh
./zero
hello
Floating pont exception (core dumped)
```
* `Floating pont exception (core dumped)` : 운영체제가 발생시킨 인터럽트

## IDT (Interrupt Descriptor Table)
- IDT 는 인터럽트 번호마다 각 시스템콜함수 주소가 있는 테이블이다.
- 리눅스는 인터럽트 처리를 위해 IDT 를 사용한다.
![idt](https://user-images.githubusercontent.com/28856435/117398693-d2d36c80-af39-11eb-921a-73415d97aacd.jpg)


## 인터럽트 처리
1. CPU 가 프로그램을 실행하고 있을때, 입출력 하드웨어 등의 이벤트가 발생한다.
2. 파일 처리가 끝나면 운영체제에게 알린다.
3. 운영체제는 프로세스를 block 상태에서 ready 상태로 변경한다.
